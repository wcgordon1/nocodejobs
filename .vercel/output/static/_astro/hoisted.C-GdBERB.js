import"https://unpkg.com/mailgo@0.12.2/dist/mailgo.min.js";function h(){const e=document.querySelectorAll(".job-item"),o=document.getElementById("noResults");if(!o)return;let t=!1;e.forEach(n=>{n instanceof HTMLElement&&n.style.display!=="none"&&(t=!0)}),o.style.display=t?"none":"block"}const p=new MutationObserver(e=>{e.forEach(o=>{o.type==="attributes"&&o.attributeName==="style"&&h()})});document.querySelectorAll(".job-item").forEach(e=>{p.observe(e,{attributes:!0})});window.resetAllFilters=()=>{const e=document.getElementById("searchInput");e&&(e.value=""),document.querySelectorAll('input[type="radio"]').forEach(t=>{t.checked=!1}),document.querySelectorAll(".job-item").forEach(t=>{t instanceof HTMLElement&&(t.style.display="")});const o=document.getElementById("noResults");o&&(o.style.display="none")};h();document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("searchInput"),o=document.getElementById("clearButton");document.addEventListener("resetSearch",()=>{e&&(e.value="",t())});function t(){const l=document.querySelectorAll(".job-item"),c=e?.value.toLowerCase()||"";o&&o.classList.toggle("hidden",c.length<2),l.forEach(a=>{if(!(a instanceof HTMLElement))return;const d={position:a.dataset.position,location:a.dataset.location,team:a.dataset.team,description:a.dataset.description,category:a.dataset.category?JSON.parse(a.dataset.category):[]},i=!c||Object.entries(d).some(([m,r])=>m==="category"&&Array.isArray(r)?r.some(u=>u.toLowerCase().includes(c)):r&&r.toString().toLowerCase().includes(c));a.style.display=i?"":"none"})}function n(){e&&(e.value="",t())}e?.addEventListener("input",t),o?.addEventListener("click",n)});let s={salary:null,team:null,category:null};function E(){const e=document.querySelectorAll(".job-item"),o=document.querySelector(".job-list");e.forEach(t=>{const n=t.dataset.team||"",l=t.dataset.category?JSON.parse(t.dataset.category):[];parseInt(t.dataset.salary||"0");const c=!s.team||n===s.team,a=!s.category||l.includes(s.category);if(t.style.display=c&&a?"":"none",s.salary&&o){const d=Array.from(o.children);d.sort((i,m)=>{const r=parseInt(i.dataset.salary||"0"),u=parseInt(m.dataset.salary||"0");return s.salary==="high-low"?u-r:r-u}),d.forEach(i=>o.appendChild(i))}})}const y=document.querySelector(".job-list"),f=y?Array.from(y.children):[];document.getElementById("resetFilters")?.addEventListener("click",()=>{s={salary:null,team:null,category:null},document.querySelectorAll('input[type="radio"]').forEach(e=>{e.checked=!1}),document.dispatchEvent(new CustomEvent("resetSearch")),document.querySelectorAll(".job-item").forEach(e=>{e.style.display=""}),y&&f.length>0&&f.forEach(e=>y.appendChild(e))});const g=["salary-sort","team-filter","category-filter"];g.forEach(e=>{document.querySelectorAll(`input[name="${e}"]`).forEach(o=>{o.addEventListener("change",t=>{const n=t.target,l=e.split("-")[0];s[l]=n.value,E()})})});
